# 安全政策

## 🎯 目的

本文件說明 Converge 專案的安全性報告與處理流程。我們致力於確保所有使用者與貢獻者能在安全、可信賴的環境中開發與部署本專案。若您發現潛在漏洞、弱點或風險,請依以下方式通報。

## 📋 支援版本

| 版本 | 支援狀態 |
|------|-----------|
| 最新版本 (main branch) | ✅ 持續維護中 |
| 過往穩定版本 | ⚠️ 僅針對關鍵安全性問題提供修補 |
| 已終止維護版本 | ❌ 不再提供更新或支援 |

若不確定版本狀態,請參考專案的 `README.md` 或 Release 頁面。

## 🔒 回報漏洞

### 私下通報

若您發現安全性漏洞,請 **勿公開發佈或建立 Issue／Pull Request**。請透過以下安全通道私下通報:

#### 📧 GitHub Security Advisories

推薦使用 GitHub 的私密安全性通報功能:
1. 前往 [Security Advisories](https://github.com/kaiyasi/Converge/security/advisories)
2. 點擊「Report a vulnerability」
3. 填寫漏洞詳情

#### 👨‍💻 直接聯繫維護者

- **GitHub**: [@kaiyasi](https://github.com/kaiyasi)

### 漏洞報告範本

```markdown
標題: [SECURITY] 簡短描述漏洞類型

### 漏洞描述
(詳細描述發現的安全性問題)

### 影響範圍
- 受影響組件:
- 受影響版本:
- 潛在風險等級: (低/中/高/嚴重)

### 重現步驟
1.
2.
3.

### 環境資訊
- 作業系統:
- Python 版本:
- Discord.py 版本:
- Line SDK 版本:
- 部署方式:

### 建議修復方案
(如有想法請提供)

### 其他資訊
(任何相關的額外資訊)
```

## ⚡ 回應流程

1. **確認與回覆**: 在收到通報後 **24-48 小時內**回覆,並確認漏洞細節
2. **評估與重現**: 由維護團隊進行技術驗證與風險評估(48-72 小時)
3. **修補與測試**: 在內部修正並進行驗證測試
4. **協調發布**: 視情況與通報者協調公開時間
5. **正式公告**: 於發行版本說明與安全公告中公開修補資訊

### 嚴重度分級

| 等級 | 描述 | 回應時間 | 修補時間 |
|------|------|----------|----------|
| **嚴重** | 遠程程式碼執行、資料洩露、Token 洩露 | 12-24 小時 | 48-72 小時 |
| **高** | 權限提升、身份驗證繞過 | 24-48 小時 | 3-7 天 |
| **中** | 資訊洩露、服務阻斷 | 48-72 小時 | 1-2 週 |
| **低** | 配置問題、輕微資訊洩露 | 72 小時 | 2-4 週 |

若問題屬於高嚴重度漏洞,我們將:
- ⚡ 優先修補並於最短時間內釋出更新
- 📢 向所有主要用戶發出安全提醒
- 🙏 感謝並註明通報者(除非對方要求匿名)

## 🤝 責任揭露

Converge 採取「負責任揭露」原則:

- ✅ 在漏洞修補前,請勿公開、散布或利用漏洞資訊
- ⚠️ 若漏洞已被公開利用,請即時通知我們以便緊急應對
- 🎉 維護團隊將在修補完成後於公告中感謝通報者的貢獻
- 🛡️ 我們承諾不會對善意的安全研究者採取法律行動

### 安全研究指引

在進行安全研究時,請遵循以下原則:

- ✅ 僅在您自己的測試環境中進行測試
- ❌ 不要存取、修改或刪除他人資料
- ❌ 不要進行可能影響服務可用性的測試
- ❌ 不要執行社會工程學攻擊
- ⚖️ 遵守當地法律法規

## 🛡️ 安全最佳實踐

### 對於使用者

- 🔄 定期更新到最新版本
- 🔐 妥善保管 Discord Token、Line Channel Secret 和 Access Token
- 📊 定期檢查機器人的活動日誌
- 🔒 遵循最小權限原則
- 💾 定期備份重要設定
- 🚫 不要將 `.env` 檔案或含有敏感資訊的檔案提交到 Git

### 對於開發者

- 📝 遵循安全編碼實踐
- 📦 定期更新依賴套件
- 🔍 使用靜態程式碼分析工具
- ✅ 實施適當的輸入驗證
- 🔐 妥善處理敏感資訊(使用環境變數)
- 🔒 驗證 Line Webhook 簽名

### 對於部署者

- 🔥 使用防火牆和安全群組規則
- 🔍 定期進行安全性檢查
- 📊 監控系統日誌和異常活動
- 🔐 使用 HTTPS 進行 Webhook 通訊
- 🐳 考慮使用容器化部署以隔離環境

## 🔐 敏感資訊處理

### 環境變數安全

本專案使用環境變數來存儲敏感資訊,請確保:

- ✅ 使用 `.env` 檔案存儲敏感資訊
- ✅ 將 `.env` 加入 `.gitignore`
- ✅ 使用 `.env.example` 作為範本(不包含實際值)
- ✅ 在生產環境中使用環境變數或密鑰管理服務
- ❌ 絕不將 Token、Secret 硬編碼在程式碼中
- ❌ 絕不將包含敏感資訊的檔案提交到版本控制

### 需要保護的敏感資訊

- `DISCORD_TOKEN`: Discord 機器人 Token
- `LINE_CHANNEL_SECRET`: Line Channel Secret
- `LINE_CHANNEL_ACCESS_TOKEN`: Line Access Token
- `GOOGLE_API_KEY`: Google Gemini API Key

## 📢 安全公告

安全更新將透過以下管道發布:

- 🔔 **GitHub Security Advisories**: [安全公告頁面](https://github.com/kaiyasi/Converge/security/advisories)
- 📰 **GitHub Releases**: [發布頁面](https://github.com/kaiyasi/Converge/releases)
- 📝 **README.md**: 重要安全更新會在 README 中註明

### 訂閱安全通知

要接收安全更新通知,請:

1. 在 GitHub 上 Watch 本專案並啟用安全通知
2. 訂閱 GitHub Security Advisories

## 📞 聯繫資訊

- 👨‍💻 **專案維護者**: [@kaiyasi](https://github.com/kaiyasi)
- 🔒 **安全通報**: [GitHub Security Advisories](https://github.com/kaiyasi/Converge/security/advisories)
- 🐛 **一般問題**: [GitHub Issues](https://github.com/kaiyasi/Converge/issues)

所有通報與溝通將保密處理。我們重視每一份回報,並感謝您協助維護專案安全。

## 📊 安全歷史

### 已修復的安全問題

我們會在此記錄已公開的安全問題:

| 日期 | 嚴重度 | 描述 | 修復版本 |
|------|--------|------|----------|
| - | - | 目前無已知安全問題 | - |

### 安全里程碑

- **2024**: 建立安全政策和回報流程
- **2024**: 實施環境變數安全管理
- **2024**: 加強 Webhook 簽名驗證

## 🙏 感謝

感謝所有主動回報漏洞、協助測試與改善安全性的開發者與使用者。您的參與讓 Converge 專案更加可靠與安全。

### 安全貢獻者

- 感謝所有負責任地回報安全問題的研究者
- 特別感謝協助改善安全政策的社群成員

## ⚖️ 免責聲明

- 本專案按「現況」提供,不提供任何明示或暗示的保證
- 使用者應自行承擔使用本專案的風險
- 專案維護者不對任何直接或間接損失負責
- 建議在生產環境使用前進行充分的安全評估和測試

---

**安全第一!** 如果您發現任何安全問題,請不要猶豫立即聯繫我們。我們將盡快處理並感謝您的貢獻。
